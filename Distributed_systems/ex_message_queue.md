## 消息队列
消息队列解决的不是存放消息的队列，而是解决通信问题。

**key**: 将操作分解为队列，然后同时发送(distribute)给对应实现运行。

- example：购买商品
1. 创建订单
2. 扣减库存
3. 扣积分
4. 优惠券

### problem it solves
1. Decoupling and Dependencies  
在传统的紧密耦合系统中，一个服务直接调用另一个服务并必须等待响应。如果被调用的服务宕机或运行缓慢，整个流程可能会失败或导致延迟。消息队列消除了这种依赖性。 生产者只是将消息“发射并忘记”到队列中，让它立即继续工作，而不必担心消费者是否可用或需要多长时间来处理。

2. 处理尖峰工作负载和负载平衡  
消息队列可以充当缓冲区。 大量请求被添加到队列中，消费者以稳定、可控的速率处理它们，有效地平衡工作负载并防止系统故障。

3. 可靠性和容错性  
如果消费者应用程序在处理过程中失败，消息不会丢失。 它保留在队列中，可以由另一个可用的消费者拾取和处理。 这确保即使系统的一部分出现故障，数据仍然是安全的，并且一旦系统恢复或新实例上线，任务就会完成。

4. 异步通信  
并非所有任务都需要立即响应。 例如，在用户注册后发送确认电子邮件或处理视频上传是可以在后台处理的任务。消息队列支持这种非阻塞通信，允许面向用户的应用程序快速响应并在后端处理长时间运行的任务时提供更好的用户体验。